{
  "id": "bc37b511-f71f-47b7-b214-dbb8f403fc07",
  "prevId": "df009c44-d5f5-4079-8a4a-6c5c7d4fd145",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "comfyui_deploy.api_keys": {
      "name": "api_keys",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revoked": {
          "name": "revoked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_keys_user_id_users_id_fk": {
          "name": "api_keys_user_id_users_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_keys_key_unique": {
          "name": "api_keys_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      }
    },
    "comfyui_deploy.assets": {
      "name": "assets",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_folder": {
          "name": "is_folder",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'/'"
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted": {
          "name": "deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "idx_path": {
          "name": "idx_path",
          "columns": [
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_path": {
          "name": "idx_user_path",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_path": {
          "name": "idx_org_path",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_deleted": {
          "name": "idx_deleted",
          "columns": [
            {
              "expression": "deleted",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_org_path": {
          "name": "idx_user_org_path",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assets_user_id_users_id_fk": {
          "name": "assets_user_id_users_id_fk",
          "tableFrom": "assets",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.auth_requests": {
      "name": "auth_requests",
      "schema": "comfyui_deploy",
      "columns": {
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_hash": {
          "name": "api_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expired_date": {
          "name": "expired_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.credits": {
      "name": "credits",
      "schema": "comfyui_deploy",
      "columns": {
        "user_or_org_id": {
          "name": "user_or_org_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "ws_credit": {
          "name": "ws_credit",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.deployments": {
      "name": "deployments",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_version_id": {
          "name": "workflow_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "machine_id": {
          "name": "machine_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "share_slug": {
          "name": "share_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "share_options": {
          "name": "share_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "showcase_media": {
          "name": "showcase_media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "deployment_environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "featured": {
          "name": "featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "machine_version_id": {
          "name": "machine_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "concurrency_limit": {
          "name": "concurrency_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "modal_image_id": {
          "name": "modal_image_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gpu": {
          "name": "gpu",
          "type": "machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "run_timeout": {
          "name": "run_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "idle_timeout": {
          "name": "idle_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "keep_warm": {
          "name": "keep_warm",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {
        "deployments_user_id_users_id_fk": {
          "name": "deployments_user_id_users_id_fk",
          "tableFrom": "deployments",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deployments_workflow_version_id_workflow_versions_id_fk": {
          "name": "deployments_workflow_version_id_workflow_versions_id_fk",
          "tableFrom": "deployments",
          "tableTo": "workflow_versions",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "workflow_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deployments_workflow_id_workflows_id_fk": {
          "name": "deployments_workflow_id_workflows_id_fk",
          "tableFrom": "deployments",
          "tableTo": "workflows",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deployments_machine_id_machines_id_fk": {
          "name": "deployments_machine_id_machines_id_fk",
          "tableFrom": "deployments",
          "tableTo": "machines",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "machine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "deployments_share_slug_unique": {
          "name": "deployments_share_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "share_slug"
          ]
        }
      }
    },
    "comfyui_deploy.form_submissions": {
      "name": "form_submissions",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "call_booked": {
          "name": "call_booked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "discord_thread_id": {
          "name": "discord_thread_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "form_submissions_user_id_users_id_fk": {
          "name": "form_submissions_user_id_users_id_fk",
          "tableFrom": "form_submissions",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.gpu_events": {
      "name": "gpu_events",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "machine_id": {
          "name": "machine_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "gpu": {
          "name": "gpu",
          "type": "machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "ws_gpu": {
          "name": "ws_gpu",
          "type": "workspace_machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "gpu_provider": {
          "name": "gpu_provider",
          "type": "gpu_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "cost_item_title": {
          "name": "cost_item_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cost": {
          "name": "cost",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "session_timeout": {
          "name": "session_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "modal_function_id": {
          "name": "modal_function_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tunnel_url": {
          "name": "tunnel_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "machine_version_id": {
          "name": "machine_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "deployment_environment",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "gpu_events_user_id_users_id_fk": {
          "name": "gpu_events_user_id_users_id_fk",
          "tableFrom": "gpu_events",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gpu_events_machine_id_machines_id_fk": {
          "name": "gpu_events_machine_id_machines_id_fk",
          "tableFrom": "gpu_events",
          "tableTo": "machines",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "machine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.machine_versions": {
      "name": "machine_versions",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "machine_id": {
          "name": "machine_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "modal_image_id": {
          "name": "modal_image_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comfyui_version": {
          "name": "comfyui_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gpu": {
          "name": "gpu",
          "type": "machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "docker_command_steps": {
          "name": "docker_command_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allow_concurrent_inputs": {
          "name": "allow_concurrent_inputs",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "concurrency_limit": {
          "name": "concurrency_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "install_custom_node_with_gpu": {
          "name": "install_custom_node_with_gpu",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "run_timeout": {
          "name": "run_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "idle_timeout": {
          "name": "idle_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "extra_docker_commands": {
          "name": "extra_docker_commands",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "machine_builder_version": {
          "name": "machine_builder_version",
          "type": "machine_builder_version",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'2'"
        },
        "base_docker_image": {
          "name": "base_docker_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "python_version": {
          "name": "python_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extra_args": {
          "name": "extra_args",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prestart_command": {
          "name": "prestart_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keep_warm": {
          "name": "keep_warm",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "machine_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'ready'"
        },
        "build_log": {
          "name": "build_log",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "machine_hash": {
          "name": "machine_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_machine_versions_machine_id": {
          "name": "idx_machine_versions_machine_id",
          "columns": [
            {
              "expression": "machine_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "machine_versions_machine_id_machines_id_fk": {
          "name": "machine_versions_machine_id_machines_id_fk",
          "tableFrom": "machine_versions",
          "tableTo": "machines",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "machine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "machine_versions_user_id_users_id_fk": {
          "name": "machine_versions_user_id_users_id_fk",
          "tableFrom": "machine_versions",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.machines": {
      "name": "machines",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auth_token": {
          "name": "auth_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "machine_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'classic'"
        },
        "static_assets_status": {
          "name": "static_assets_status",
          "type": "machine_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not-started'"
        },
        "machine_version": {
          "name": "machine_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "models": {
          "name": "models",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ws_gpu": {
          "name": "ws_gpu",
          "type": "workspace_machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "pod_id": {
          "name": "pod_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_mode": {
          "name": "legacy_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ws_timeout": {
          "name": "ws_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "build_machine_instance_id": {
          "name": "build_machine_instance_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "modal_app_id": {
          "name": "modal_app_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_workflow_id": {
          "name": "target_workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "deleted": {
          "name": "deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allow_background_volume_commits": {
          "name": "allow_background_volume_commits",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "gpu_workspace": {
          "name": "gpu_workspace",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "retrieve_static_assets": {
          "name": "retrieve_static_assets",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "object_info": {
          "name": "object_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "object_info_str": {
          "name": "object_info_str",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filename_list_cache": {
          "name": "filename_list_cache",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "extensions": {
          "name": "extensions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "import_failed_logs": {
          "name": "import_failed_logs",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "machine_version_id": {
          "name": "machine_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_workspace": {
          "name": "is_workspace",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "comfyui_version": {
          "name": "comfyui_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gpu": {
          "name": "gpu",
          "type": "machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "docker_command_steps": {
          "name": "docker_command_steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "allow_concurrent_inputs": {
          "name": "allow_concurrent_inputs",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "concurrency_limit": {
          "name": "concurrency_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "install_custom_node_with_gpu": {
          "name": "install_custom_node_with_gpu",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "run_timeout": {
          "name": "run_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "idle_timeout": {
          "name": "idle_timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "extra_docker_commands": {
          "name": "extra_docker_commands",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "machine_builder_version": {
          "name": "machine_builder_version",
          "type": "machine_builder_version",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'2'"
        },
        "base_docker_image": {
          "name": "base_docker_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "python_version": {
          "name": "python_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "extra_args": {
          "name": "extra_args",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prestart_command": {
          "name": "prestart_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keep_warm": {
          "name": "keep_warm",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "machine_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'ready'"
        },
        "build_log": {
          "name": "build_log",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "machine_hash": {
          "name": "machine_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_machines_org_id_deleted": {
          "name": "idx_machines_org_id_deleted",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "deleted",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "machines_user_id_users_id_fk": {
          "name": "machines_user_id_users_id_fk",
          "tableFrom": "machines",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "machines_target_workflow_id_workflows_id_fk": {
          "name": "machines_target_workflow_id_workflows_id_fk",
          "tableFrom": "machines",
          "tableTo": "workflows",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "target_workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.models": {
      "name": "models",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_volume_id": {
          "name": "user_volume_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "model_name": {
          "name": "model_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "folder_path": {
          "name": "folder_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_symlink_path": {
          "name": "target_symlink_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "civitai_id": {
          "name": "civitai_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "civitai_version_id": {
          "name": "civitai_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "civitai_url": {
          "name": "civitai_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "civitai_download_url": {
          "name": "civitai_download_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "civitai_model_response": {
          "name": "civitai_model_response",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hf_url": {
          "name": "hf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "s3_url": {
          "name": "s3_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "download_progress": {
          "name": "download_progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "client_url": {
          "name": "client_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_hash_sha256": {
          "name": "file_hash_sha256",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "status": {
          "name": "status",
          "type": "resource_upload",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'started'"
        },
        "upload_machine_id": {
          "name": "upload_machine_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "upload_type": {
          "name": "upload_type",
          "type": "model_upload_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "model_type": {
          "name": "model_type",
          "type": "model_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'checkpoint'"
        },
        "error_log": {
          "name": "error_log",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "deleted": {
          "name": "deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "models_user_id_users_id_fk": {
          "name": "models_user_id_users_id_fk",
          "tableFrom": "models",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "models_user_volume_id_user_volume_id_fk": {
          "name": "models_user_volume_id_user_volume_id_fk",
          "tableFrom": "models",
          "tableTo": "user_volume",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_volume_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.subscription_status": {
      "name": "subscription_status",
      "schema": "comfyui_deploy",
      "columns": {
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan": {
          "name": "plan",
          "type": "subscription_plan",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "subscription_plan_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_item_plan_id": {
          "name": "subscription_item_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_item_api_id": {
          "name": "subscription_item_api_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_at_period_end": {
          "name": "cancel_at_period_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "trial_end": {
          "name": "trial_end",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trial_start": {
          "name": "trial_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_invoice_timestamp": {
          "name": "last_invoice_timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.trainings": {
      "name": "trainings",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "outputs": {
          "name": "outputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "resource_upload",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'started'"
        },
        "type": {
          "name": "type",
          "type": "training_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "trainings_user_id_users_id_fk": {
          "name": "trainings_user_id_users_id_fk",
          "tableFrom": "trainings",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.user_settings": {
      "name": "user_settings",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "output_visibility": {
          "name": "output_visibility",
          "type": "output_visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'public'"
        },
        "custom_output_bucket": {
          "name": "custom_output_bucket",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "s3_access_key_id": {
          "name": "s3_access_key_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "s3_secret_access_key": {
          "name": "s3_secret_access_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "s3_bucket_name": {
          "name": "s3_bucket_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "s3_region": {
          "name": "s3_region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "api_version": {
          "name": "api_version",
          "type": "api_version",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'v2'"
        },
        "spend_limit": {
          "name": "spend_limit",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 500
        },
        "max_spend_limit": {
          "name": "max_spend_limit",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 1000
        },
        "hugging_face_token": {
          "name": "hugging_face_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_limit": {
          "name": "workflow_limit",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "machine_limit": {
          "name": "machine_limit",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "always_on_machine_limit": {
          "name": "always_on_machine_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "credit": {
          "name": "credit",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_gpu": {
          "name": "max_gpu",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "enable_custom_output_bucket": {
          "name": "enable_custom_output_bucket",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_settings_user_id_users_id_fk": {
          "name": "user_settings_user_id_users_id_fk",
          "tableFrom": "user_settings",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.user_usage": {
      "name": "user_usage",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "usage_time": {
          "name": "usage_time",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_usage_user_id_users_id_fk": {
          "name": "user_usage_user_id_users_id_fk",
          "tableFrom": "user_usage",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.user_volume": {
      "name": "user_volume",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "volume_name": {
          "name": "volume_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_volume_user_id_users_id_fk": {
          "name": "user_volume_user_id_users_id_fk",
          "tableFrom": "user_volume",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.users": {
      "name": "users",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.workflow_run_outputs": {
      "name": "workflow_run_outputs",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "node_meta": {
          "name": "node_meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_run_outputs_run_id": {
          "name": "idx_workflow_run_outputs_run_id",
          "columns": [
            {
              "expression": "run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_run_outputs_run_id_workflow_runs_id_fk": {
          "name": "workflow_run_outputs_run_id_workflow_runs_id_fk",
          "tableFrom": "workflow_run_outputs",
          "tableTo": "workflow_runs",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.workflow_runs": {
      "name": "workflow_runs",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow_version_id": {
          "name": "workflow_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_inputs": {
          "name": "workflow_inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_api": {
          "name": "workflow_api",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "machine_id": {
          "name": "machine_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "origin": {
          "name": "origin",
          "type": "workflow_run_origin",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'api'"
        },
        "status": {
          "name": "status",
          "type": "workflow_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not-started'"
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "gpu_event_id": {
          "name": "gpu_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gpu": {
          "name": "gpu",
          "type": "machine_gpu",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "machine_version": {
          "name": "machine_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "machine_type": {
          "name": "machine_type",
          "type": "machine_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "modal_function_call_id": {
          "name": "modal_function_call_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "run_log": {
          "name": "run_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "live_status": {
          "name": "live_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress": {
          "name": "progress",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_realtime": {
          "name": "is_realtime",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "webhook": {
          "name": "webhook",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_status": {
          "name": "webhook_status",
          "type": "webhook_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_intermediate_status": {
          "name": "webhook_intermediate_status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "batch_id": {
          "name": "batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "favorite": {
          "name": "favorite",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "model_id": {
          "name": "model_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_workflow_runs_workflow_id": {
          "name": "idx_workflow_runs_workflow_id",
          "columns": [
            {
              "expression": "workflow_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_workflow_run_created_at_desc": {
          "name": "idx_workflow_run_created_at_desc",
          "columns": [
            {
              "expression": "workflow_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_runs_workflow_version_id_workflow_versions_id_fk": {
          "name": "workflow_runs_workflow_version_id_workflow_versions_id_fk",
          "tableFrom": "workflow_runs",
          "tableTo": "workflow_versions",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "workflow_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "workflow_runs_workflow_id_workflows_id_fk": {
          "name": "workflow_runs_workflow_id_workflows_id_fk",
          "tableFrom": "workflow_runs",
          "tableTo": "workflows",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_runs_machine_id_machines_id_fk": {
          "name": "workflow_runs_machine_id_machines_id_fk",
          "tableFrom": "workflow_runs",
          "tableTo": "machines",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "machine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.workflows": {
      "name": "workflows",
      "schema": "comfyui_deploy",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selected_machine_id": {
          "name": "selected_machine_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "pinned": {
          "name": "pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted": {
          "name": "deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflows_user_id_users_id_fk": {
          "name": "workflows_user_id_users_id_fk",
          "tableFrom": "workflows",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflows_selected_machine_id_machines_id_fk": {
          "name": "workflows_selected_machine_id_machines_id_fk",
          "tableFrom": "workflows",
          "tableTo": "machines",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "selected_machine_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "comfyui_deploy.workflow_versions": {
      "name": "workflow_versions",
      "schema": "comfyui_deploy",
      "columns": {
        "workflow_id": {
          "name": "workflow_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workflow": {
          "name": "workflow",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_api": {
          "name": "workflow_api",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "machine_version_id": {
          "name": "machine_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "machine_id": {
          "name": "machine_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_workflow_version_workflow_id": {
          "name": "idx_workflow_version_workflow_id",
          "columns": [
            {
              "expression": "workflow_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "workflow_versions_workflow_id_workflows_id_fk": {
          "name": "workflow_versions_workflow_id_workflows_id_fk",
          "tableFrom": "workflow_versions",
          "tableTo": "workflows",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workflow_versions_user_id_users_id_fk": {
          "name": "workflow_versions_user_id_users_id_fk",
          "tableFrom": "workflow_versions",
          "tableTo": "users",
          "schemaTo": "comfyui_deploy",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "public.api_version": {
      "name": "api_version",
      "schema": "public",
      "values": [
        "v1",
        "v2"
      ]
    },
    "public.deployment_environment": {
      "name": "deployment_environment",
      "schema": "public",
      "values": [
        "staging",
        "preview",
        "production",
        "public-share",
        "private-share"
      ]
    },
    "public.gpu_provider": {
      "name": "gpu_provider",
      "schema": "public",
      "values": [
        "modal",
        "runpod",
        "fal"
      ]
    },
    "public.machine_builder_version": {
      "name": "machine_builder_version",
      "schema": "public",
      "values": [
        "2",
        "3",
        "4"
      ]
    },
    "public.machine_gpu": {
      "name": "machine_gpu",
      "schema": "public",
      "values": [
        "CPU",
        "T4",
        "L4",
        "A10G",
        "L40S",
        "A100",
        "A100-80GB",
        "H100"
      ]
    },
    "public.machine_status": {
      "name": "machine_status",
      "schema": "public",
      "values": [
        "not-started",
        "ready",
        "building",
        "error",
        "running",
        "paused",
        "starting"
      ]
    },
    "public.machine_type": {
      "name": "machine_type",
      "schema": "public",
      "values": [
        "classic",
        "runpod-serverless",
        "modal-serverless",
        "comfy-deploy-serverless",
        "workspace",
        "workspace-v2"
      ]
    },
    "public.model_type": {
      "name": "model_type",
      "schema": "public",
      "values": [
        "checkpoint",
        "lora",
        "embedding",
        "vae",
        "clip",
        "clip_vision",
        "configs",
        "controlnet",
        "upscale_models",
        "ipadapter",
        "gligen",
        "unet",
        "custom",
        "custom_node"
      ]
    },
    "public.model_upload_type": {
      "name": "model_upload_type",
      "schema": "public",
      "values": [
        "civitai",
        "download-url",
        "huggingface",
        "other"
      ]
    },
    "public.output_visibility": {
      "name": "output_visibility",
      "schema": "public",
      "values": [
        "public",
        "private"
      ]
    },
    "public.resource_upload": {
      "name": "resource_upload",
      "schema": "public",
      "values": [
        "started",
        "success",
        "failed",
        "cancelled"
      ]
    },
    "public.subscription_plan": {
      "name": "subscription_plan",
      "schema": "public",
      "values": [
        "basic",
        "pro",
        "enterprise",
        "creator",
        "business",
        "ws_basic",
        "ws_pro"
      ]
    },
    "public.subscription_plan_status": {
      "name": "subscription_plan_status",
      "schema": "public",
      "values": [
        "active",
        "deleted",
        "paused"
      ]
    },
    "public.training_type": {
      "name": "training_type",
      "schema": "public",
      "values": [
        "flux-lora"
      ]
    },
    "public.webhook_status": {
      "name": "webhook_status",
      "schema": "public",
      "values": [
        "success",
        "failed",
        "not-started",
        "running"
      ]
    },
    "public.workflow_run_origin": {
      "name": "workflow_run_origin",
      "schema": "public",
      "values": [
        "manual",
        "api",
        "public-share",
        "public-template",
        "workspace"
      ]
    },
    "public.workflow_run_status": {
      "name": "workflow_run_status",
      "schema": "public",
      "values": [
        "not-started",
        "running",
        "uploading",
        "success",
        "failed",
        "started",
        "queued",
        "timeout",
        "cancelled"
      ]
    },
    "public.workspace_machine_gpu": {
      "name": "workspace_machine_gpu",
      "schema": "public",
      "values": [
        "4090"
      ]
    }
  },
  "schemas": {
    "comfyui_deploy": "comfyui_deploy"
  },
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}